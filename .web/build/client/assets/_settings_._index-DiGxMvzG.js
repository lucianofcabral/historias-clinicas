import{r as e}from"./rolldown-runtime-Du9yNBBJ.js";import{t}from"./react-D-S4PNWu.js";import"./react-dom-BAvWFNEm.js";import{A as n,r}from"./chunk-NISHYRIK-BBtCEOxO.js";import{C as i,D as a,F as o,L as s,M as c,O as l,S as u,T as d,U as f,b as p,f as m,j as h,w as g,x as _,y as v}from"./esm-k38bMSib.js";import"./reflex-env-DLSvpiQy.js";import{n as y}from"./emotion-react.browser.esm-DwqSmYCO.js";import"./createLucideIcon-Bc7lyNOf.js";import{t as b}from"./calendar-check-yeEZyFRQ.js";import{t as x}from"./database-Bpuh7HyW.js";import{t as S}from"./download-CjzWq966.js";import{t as C}from"./file-text-BATxXdcz.js";import{t as w}from"./flask-conical-CzSWE-Tb.js";import{t as T}from"./heart-pulse-X8Z8rstd.js";import{t as E}from"./info-DsZwt-zL.js";import{t as D}from"./layout-dashboard-Co4Ab-yq.js";import"./log-out-DVZ1fVjF.js";import"./plus-CDG3YlQO.js";import{t as O}from"./rotate-ccw-CDfbhvoc.js";import{t as k}from"./settings-XplVZ3sx.js";import{t as A}from"./trash-2-CsCDIuvg.js";import{t as j}from"./triangle-alert-Ui2Bo3HG.js";import{t as M}from"./users-Zz7bBy1b.js";import{n as N}from"./stateful_components-COP8CBJd.js";import{t as P}from"./DynamicIcon-BXIdKDwJ.js";var F=e(t());function I(){return y(P,{name:((0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state).message_type_rx_state_?.valueOf?.()===`success`?.valueOf?.()?`circle_check`:`triangle_alert`).replaceAll(`_`,`-`)})}function L(){return y(g,{},(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state).message_rx_state_)}function R(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state);return y(i,{color:e.message_type_rx_state_?.valueOf?.()===`success`?.valueOf?.()?`green`:`red`,css:{icon:e.message_type_rx_state_?.valueOf?.()===`success`?.valueOf?.()?`circle_check`:`triangle_alert`,marginBottom:`1rem`}},y(u,{},y(I,{})),y(L,{}))}function z(){return y(F.Fragment,{},(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state).message_rx_state_?.valueOf?.()===``?.valueOf?.()?y(F.Fragment,{},y(l,{})):y(F.Fragment,{},y(R,{})))}function B(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state);return y(c,{css:{color:`#3B82F6`},size:`6`},JSON.stringify(e.backup_stats_rx_state_?.total_backups))}function V(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state);return y(c,{css:{color:`#22C55E`},size:`6`},JSON.stringify(e.backup_stats_rx_state_?.total_size_mb)+` MB`)}function H(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state);return y(h,{as:`p`,css:{color:`#F1F5F9`,wordBreak:`break-all`},size:`2`},JSON.stringify(e.backup_stats_rx_state_?.backup_dir))}function U(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state),[t,n]=(0,F.useContext)(o),r=(0,F.useCallback)(e=>t([f(`reflex___state____state.app___state___settings_state____settings_state.create_backup`,{},{})],[e],{}),[t,f]);return y(d,{color:`blue`,loading:e.is_loading_rx_state_,onClick:r,size:`3`},y(x,{size:20}),`Crear Backup Ahora`)}function W(){let e=(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state),[t,n]=(0,F.useContext)(o);return y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},Array.prototype.map.call(e.backups_rx_state_??[],(e,n)=>y(_,{key:n},y(a,{align:`center`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,gap:`3`},y(a,{align:`start`,className:`rx-Stack`,css:{flex:`1`},direction:`column`,gap:`2`},y(a,{align:`center`,className:`rx-Stack`,direction:`row`,gap:`2`},y(x,{css:{color:`#3B82F6`},size:20}),y(h,{as:`p`,css:{fontWeight:`600`,color:`#F1F5F9`},size:`3`},e?.filename)),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`},e?.date),y(h,{as:`p`,css:{color:`#94A3B8`}},`•`),y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`},e?.size_kb+` KB`))),y(a,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(d,{color:`blue`,onClick:n=>t([f(`reflex___state____state.app___state___settings_state____settings_state.restore_backup`,{filename:e?.filename},{})],[n],{}),size:`2`,variant:`soft`},y(S,{size:16}),`Restaurar`),y(d,{color:`red`,onClick:n=>t([f(`reflex___state____state.app___state___settings_state____settings_state.delete_backup`,{filename:e?.filename},{})],[n],{}),size:`2`,variant:`soft`},y(A,{size:16})))))))}function G(){return y(F.Fragment,{},(0,F.useContext)(s.reflex___state____state__app___state___settings_state____settings_state).backups_rx_state_.length>0?y(F.Fragment,{},y(W,{})):y(F.Fragment,{},y(i,{color:`blue`,css:{icon:`info`}},y(u,{},y(E,{})),y(g,{},`No hay backups disponibles. Crea tu primer backup usando el botón de arriba.`))))}function K(){(0,F.useEffect)(()=>(((...t)=>e([f(`reflex___state____state.app___state___settings_state____settings_state.load_backups`,{},{})],t,{}))(),()=>{}),[]);let[e,t]=(0,F.useContext)(o);return y(l,{css:{background:`#0F172A`,minHeight:`100vh`,width:`100%`}},y(l,{css:{background:`#0F172A`,paddingTop:`1rem`,paddingBottom:`1rem`,borderBottom:`1px solid #334155`,width:`100%`,position:`sticky`,top:`0`,zIndex:`1000`}},y(a,{align:`center`,className:`rx-Stack`,css:{width:`100%`,paddingInlineStart:`2rem`,paddingInlineEnd:`2rem`},direction:`row`,justify:`between`,gap:`3`},y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`3`},y(T,{css:{color:`#3B82F6`},size:28}),y(c,{css:{color:`#F1F5F9`},size:`6`},`Historias Clínicas`)),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/dashboard`},y(d,{color:`gray`,variant:`ghost`},y(D,{size:18}),`Dashboard`))),y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/patients`},y(d,{color:`gray`,variant:`ghost`},y(M,{size:18}),`Pacientes`))),y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/consultations`},y(d,{color:`gray`,variant:`ghost`},y(b,{size:18}),`Consultas`))),y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/studies`},y(d,{color:`gray`,variant:`ghost`},y(w,{size:18}),`Estudios`))),y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/reports`},y(d,{color:`gray`,variant:`ghost`},y(C,{size:18}),`Reportes`))),y(m,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},y(r,{to:`/settings`},y(d,{color:`gray`,variant:`ghost`},y(k,{size:18}),`Config`)))),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`3`},y(N,{})))),y(v,{css:{padding:`16px`,maxWidth:`1400px`,paddingInlineStart:`2rem`,paddingInlineEnd:`2rem`},size:`3`},y(a,{align:`start`,className:`rx-Stack`,css:{paddingTop:`2rem`,paddingBottom:`2rem`},direction:`column`,gap:`4`},y(c,{css:{color:`#F1F5F9`,marginBottom:`1.5rem`},size:`8`},`⚙️ Configuración y Backups`),y(z,{}),y(_,{css:{marginBottom:`2rem`}},y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`4`},y(c,{css:{color:`#F1F5F9`},size:`5`},`📊 Estadísticas de Backups`),y(p,{columns:`3`,css:{width:`100%`},gap:`4`},y(a,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`1`},y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`,weight:`bold`},`Total de Backups`),y(B,{})),y(a,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`1`},y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`,weight:`bold`},`Espacio Utilizado`),y(V,{})),y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`1`},y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`,weight:`bold`},`Directorio`),y(H,{}))))),y(_,{css:{marginBottom:`2rem`}},y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},y(c,{css:{color:`#F1F5F9`},size:`5`},`💾 Crear Nuevo Backup`),y(h,{as:`p`,css:{color:`#94A3B8`},size:`2`},`Crea una copia de seguridad completa de la base de datos. El backup se guardará comprimido en formato ZIP.`),y(U,{}))),y(c,{css:{color:`#F1F5F9`,marginBottom:`1rem`},size:`5`},`📂 Backups Disponibles`),y(G,{}),y(_,{css:{borderLeft:`4px solid #F59E0B`,marginTop:`2rem`}},y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},y(c,{css:{color:`#F59E0B`},size:`4`},`⚠️ Información Importante`),y(a,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`2`},y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(j,{css:{color:`#F59E0B`},size:16}),y(h,{as:`p`,size:`2`},`Al restaurar un backup, la base de datos actual se reemplazará completamente.`)),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(E,{css:{color:`#06B6D4`},size:16}),y(h,{as:`p`,size:`2`},`Se crea automáticamente un backup de seguridad antes de restaurar.`)),y(a,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},y(O,{css:{color:`#06B6D4`},size:16}),y(h,{as:`p`,size:`2`},`Después de restaurar un backup, es necesario reiniciar la aplicación.`))))))))}var q=n(function(){return y(F.Fragment,{},y(K,{}),y(`title`,{},`Configuración - Historias Clínicas`),y(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{q as default};